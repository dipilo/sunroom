[gd_scene load_steps=12 format=3 uid="uid://dxtkxaebc3pmy"]

[ext_resource type="PackedScene" uid="uid://cpre4pnoft1a7" path="res://scenes/player.tscn" id="1_hy033"]
[ext_resource type="PackedScene" uid="uid://dfe7stefx36it" path="res://scenes/centerpiece.tscn" id="2_4y0t7"]
[ext_resource type="PackedScene" uid="uid://c038x40bbcabo" path="res://background.tscn" id="3_21s54"]
[ext_resource type="Script" uid="uid://dgtmrmxiqn7tt" path="res://scenes/gameManager.gd" id="4_21s54"]
[ext_resource type="Texture2D" uid="uid://co5uh63lepfer" path="res://textures/item_textures/animated paper shredder down.png" id="5_ixbtv"]
[ext_resource type="Script" uid="uid://tigx0bmxb0ah" path="res://scenes/shreader.gd" id="5_lwkd3"]
[ext_resource type="Texture2D" uid="uid://cywnmbmwpkkha" path="res://textures/item_textures/animated paper shredder up.png" id="6_86tsl"]
[ext_resource type="Script" uid="uid://1a0gu7f1635y" path="res://scenes/paper_stack.gd" id="8_htbo0"]

[sub_resource type="CircleShape2D" id="CircleShape2D_ixbtv"]
radius = 10.2564

[sub_resource type="SpriteFrames" id="SpriteFrames_lwkd3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_ixbtv")
}, {
"duration": 1.0,
"texture": ExtResource("6_86tsl")
}],
"loop": true,
"name": &"active",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_ixbtv")
}, {
"duration": 1.0,
"texture": ExtResource("6_86tsl")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}]

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_lwkd3"]
size = Vector2(40, 40)

[node name="Node2D" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_hy033")]
position = Vector2(240, 280)

[node name="Centerpiece" parent="." instance=ExtResource("2_4y0t7")]
position = Vector2(240, 240)

[node name="background" parent="." instance=ExtResource("3_21s54")]

[node name="manager" type="Node2D" parent="."]
script = ExtResource("4_21s54")

[node name="gameTimer" type="Timer" parent="manager"]
wait_time = 0.75
autostart = true

[node name="spawnTimer" type="Timer" parent="manager"]

[node name="Shreader" type="Node2D" parent="."]
position = Vector2(440, 260)
script = ExtResource("5_lwkd3")

[node name="Area2D" type="Area2D" parent="Shreader"]
position = Vector2(10, 10)
scale = Vector2(1.5, 1.5)
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Shreader/Area2D"]
scale = Vector2(1.3, 1.3)
shape = SubResource("CircleShape2D_ixbtv")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Shreader"]
position = Vector2(10, 10)
scale = Vector2(0.625, 0.625)
sprite_frames = SubResource("SpriteFrames_lwkd3")
animation = &"active"

[node name="Paper_Stack" type="Node2D" parent="."]
position = Vector2(390, 270)
script = ExtResource("8_htbo0")

[node name="Area2D" type="Area2D" parent="Paper_Stack"]
scale = Vector2(1.5, 1.5)
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Paper_Stack/Area2D"]
scale = Vector2(1.3, 1.3)
shape = SubResource("CircleShape2D_ixbtv")

[node name="Sprite2D" type="Sprite2D" parent="Paper_Stack"]
texture = SubResource("PlaceholderTexture2D_lwkd3")

[connection signal="timeout" from="manager/gameTimer" to="manager" method="_game_loop"]
[connection signal="timeout" from="manager/spawnTimer" to="manager" method="_spawn_timer_timeout"]
[connection signal="area_entered" from="Shreader/Area2D" to="Shreader" method="_shreader_collided_with"]
[connection signal="area_entered" from="Paper_Stack/Area2D" to="Paper_Stack" method="_paper_stack_collided"]
